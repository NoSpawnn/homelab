"Generate an ignition file for the given host"

(
hostname: str
)
---

import sys

butane_version = "1.5.0"

h = getattr(machine, hostname, None)

conf = None
if h:
    conf = h(butane_version=butane_version)
else:
    print(f"Host '{hostname}' does not exist")
    sys.exit(1)

---

variant: fcos
version: `butane_version`

ignition:
  config:
    merge:
      `std.merge(conf)`
